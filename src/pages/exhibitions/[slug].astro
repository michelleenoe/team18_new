---
export async function getStaticPaths() {
    const data = await fetch (
        "https://ffyutoujmfnsirgqayei.supabase.co/rest/v1/program2023",
        {
    method: "GET",
    headers: {
      apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZmeXV0b3VqbWZuc2lyZ3FheWVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTU5MjAzNTEsImV4cCI6MjAxMTQ5NjM1MX0._MQofBF4ewfenzMBblhewUu4Kn7vUPw8qYEfQ_Y0btY",
    },
  } 
  ).then((response) => response.json());

  return data.map((post) => {
    return {
        params: { slug: post.slug },
        props: { post },
    };
  });
}
const {post} = Astro.props;
console.log(post);
/*
{
  navn: 'TIME AND PLACE',
  who: 'Tokyo Blue (DK)',
  where: 'Vestre Kirkegård, entrance from Bavnehøj Allé',
  time: '',
  Info: 'Søndre Kapel is a chapel that has been left unchanged through the ages. This sculpture shows us how the sunlight moves throughout the year. The hanging discs represent the oval sunbeams that illuminate the inner walls of the chapel at different times of the year. Time collapses inside Søndre Kapel.\n' +
    '\n' +
    'Tokyo Blue consists of Helle Frøjk Knudsen, Katrin Barrie Larsen, Silla Findstrøm Herbst and Astrid Espenhain. Their installations are often based on existing spaces and architecture in which light and colour are intertwined with the multitude of stories, associations or historical layers associated with the places themselves.\n' +
    '\n' +
    'At this year’s Copenhagen Light Festival, Tokyo Blue transform Lille Langebro with their installation “Water Walk”, just like they did in 2022 with “JAM” as well as in 2021 with “The grass is always greener…”.',
  links: 'www.tokyoblue.dk\n',
  thanks: 'Bavnehøj Områdefornyelse',
  image: 'https://i.ibb.co/C94vFsn/time-place.webp',
  slug: 'TIME-AND-PLACE'
}
*/
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Copenhagen Light Festival</title>
  </head>
<section>
    <img src={post.image} alt="Exhibition photo"> 
    <article>
    <h2>{post.navn}</h2>
    <h3>{post.who}</h3>
    <div class="info" set:html={post.Info}></div>
    <h4>Thanks to</h4>
    <p class="location">{post.where}</p>
    <div class="kunstnerlist">
    <a href="#">Gå til kunstner</a>
</div>
</article>
</section>

<style>
    .kunstnerlist a{
        color: var(--secondary-text);
        font-size: 30px;
    } 
    .kunstnerlist{
        text-align: center;
        font-weight: bold;
    }
    .artist, .info, .location{
        margin-bottom: 20px;
    }
     .artist, .location, h2, h3, h4{
        text-align: center;
    }
    h2, h3, h4, h5, h6, p, a{
        font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        color: var(--primary-text);
        margin: 0%;
    }
    h2{
        font-size: 40px;
    }
    h3{
        font-size: 30px;
    }
    p{
        font-size: 15px;
    }
    section{
            grid-column: 2;
            grid-row: 2;
        }
        section img{
            margin: auto;
            max-width: 100%;
            display: block;
        }
        @media (min-width: 800px) {
            main {
                flex-direction: row;
            }
            section {
                margin-right: 20px;
                text-align: left;
            }
            .back {
                order: -1;
            }
        }
    </style>