---
import MainLayout from "../../layouts/MainLayout.astro";
export async function getStaticPaths() {
    const data = await fetch (
        "https://ffyutoujmfnsirgqayei.supabase.co/rest/v1/program2023",
        {
    method: "GET",
    headers: {
      apikey:
        "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZmeXV0b3VqbWZuc2lyZ3FheWVpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTU5MjAzNTEsImV4cCI6MjAxMTQ5NjM1MX0._MQofBF4ewfenzMBblhewUu4Kn7vUPw8qYEfQ_Y0btY",
    },
  } 
  ).then((response) => response.json());

  return data.map((post) => {
    return {
        params: { slug: post.slug },
        props: { post },
    };
  });
}
const {post} = Astro.props;
console.log(post);
---

<MainLayout>
<section>
    <img src={post.image} alt="Exhibition photo"> 
    <article>
    <h2>{post.navn}</h2>
    <h3>{post.who}</h3>
    <div class="info" set:html={post.Info}></div>
    <h4>Thanks to</h4>
    <p class="location">{post.where}</p>
    <div class="kunstnerlist">
    <a href="#">GÃ¥ til kunstner</a>
</div>
</article>
</section>
</MainLayout>
<style>
    .kunstnerlist a{
        color: var(--secondary-text);
        font-size: 30px;
    } 
    .kunstnerlist{
        text-align: center;
        font-weight: bold;
    }
    .artist, .info, .location{
        margin-bottom: 20px;
    }
     .artist, .location, h2, h3, h4{
        text-align: center;
    }
    h2, h3, h4, h5, h6, p, a{
        font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        color: var(--primary-text);
        margin: 0%;
    }
    h2{
        font-size: 40px;
    }
    h3{
        font-size: 30px;
    }
    p{
        font-size: 15px;
    }
    section{
            grid-column: 2;
            grid-row: 2;
        }
        section img{
            margin: auto;
            max-width: 100%;
            display: block;
        }
        @media (min-width: 800px) {
            main {
                flex-direction: row;
            }
            section {
                margin-right: 20px;
                text-align: left;
            }
            .back {
                order: -1;
            }
        }
    </style>